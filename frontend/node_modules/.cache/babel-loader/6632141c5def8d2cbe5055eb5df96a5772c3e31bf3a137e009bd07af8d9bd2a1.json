{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { createRouter, createWebHistory } from 'vue-router';\nimport Layout from '@/layout/index.vue';\nimport { getToken } from '@/utils/auth';\nimport store from '@/store';\n\n// 白名单路由\nvar whiteList = ['/login'];\n\n// 基础路由\nexport var constantRoutes = [{\n  path: '/login',\n  component: function component() {\n    return import('@/views/login/index.vue');\n  },\n  hidden: true\n}, {\n  path: '/',\n  component: Layout,\n  redirect: '/dashboard',\n  children: [{\n    path: 'dashboard',\n    name: 'Dashboard',\n    component: function component() {\n      return import('@/views/dashboard/index.vue');\n    },\n    meta: {\n      title: '仪表盘',\n      icon: 'Odometer',\n      affix: true\n    }\n  }]\n}, {\n  path: '/404',\n  name: '404',\n  component: function component() {\n    return import('@/views/error/404.vue');\n  },\n  hidden: true\n}];\n\n// 需要根据权限动态加载的路由\nexport var asyncRoutes = [{\n  path: '/system',\n  component: Layout,\n  redirect: '/system/user',\n  alwaysShow: true,\n  // 始终显示根菜单\n  meta: {\n    title: '系统管理',\n    icon: 'Setting',\n    roles: ['admin']\n  },\n  children: [{\n    path: 'user',\n    name: 'User',\n    component: function component() {\n      return import('@/views/user/index.vue');\n    },\n    meta: {\n      title: '用户管理',\n      icon: 'User',\n      roles: ['admin']\n    }\n  }, {\n    path: 'role',\n    name: 'Role',\n    component: function component() {\n      return import('@/views/role/index.vue');\n    },\n    meta: {\n      title: '角色管理',\n      icon: 'UserFilled',\n      roles: ['admin']\n    }\n  }, {\n    path: 'permission',\n    name: 'Permission',\n    component: function component() {\n      return import('@/views/permission/index.vue');\n    },\n    meta: {\n      title: '权限管理',\n      icon: 'Lock',\n      roles: ['admin']\n    }\n  }]\n}, {\n  path: '/asset',\n  component: Layout,\n  redirect: '/asset/list',\n  alwaysShow: true,\n  meta: {\n    title: '资产管理',\n    icon: 'Files'\n  },\n  children: [{\n    path: 'list',\n    name: 'AssetList',\n    component: function component() {\n      return import('@/views/assets/AssetList.vue');\n    },\n    meta: {\n      title: '资产列表',\n      icon: 'Document'\n    }\n  }]\n},\n// 404 页面必须放在最后\n{\n  path: '/:pathMatch(.*)*',\n  redirect: '/404',\n  hidden: true\n}];\nvar router = createRouter({\n  history: createWebHistory(),\n  routes: constantRoutes\n});\nexport function resetRouter() {\n  var newRouter = createRouter({\n    history: createWebHistory(),\n    routes: constantRoutes\n  });\n\n  // 清除所有已添加的路由\n  router.getRoutes().forEach(function (route) {\n    var name = route.name;\n    if (name && router.hasRoute(name)) {\n      router.removeRoute(name);\n    }\n  });\n\n  // 重新添加基础路由\n  constantRoutes.forEach(function (route) {\n    if (!router.hasRoute(route.name)) {\n      router.addRoute(route);\n    }\n  });\n}\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Layout","getToken","store","whiteList","constantRoutes","path","component","hidden","redirect","children","name","meta","title","icon","affix","asyncRoutes","alwaysShow","roles","router","history","routes","resetRouter","newRouter","getRoutes","forEach","route","hasRoute","removeRoute","addRoute"],"sources":["C:/Users/ND/Desktop/Fixed_Project/frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\nimport Layout from '@/layout/index.vue'\r\nimport { getToken } from '@/utils/auth'\r\nimport store from '@/store'\r\n\r\n// 白名单路由\r\nconst whiteList = ['/login']\r\n\r\n// 基础路由\r\nexport const constantRoutes = [\r\n  {\r\n    path: '/login',\r\n    component: () => import('@/views/login/index.vue'),\r\n    hidden: true\r\n  },\r\n  {\r\n    path: '/',\r\n    component: Layout,\r\n    redirect: '/dashboard',\r\n    children: [\r\n      {\r\n        path: 'dashboard',\r\n        name: 'Dashboard',\r\n        component: () => import('@/views/dashboard/index.vue'),\r\n        meta: { title: '仪表盘', icon: 'Odometer', affix: true }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/404',\r\n    name: '404',\r\n    component: () => import('@/views/error/404.vue'),\r\n    hidden: true\r\n  }\r\n]\r\n\r\n// 需要根据权限动态加载的路由\r\nexport const asyncRoutes = [\r\n  {\r\n    path: '/system',\r\n    component: Layout,\r\n    redirect: '/system/user',\r\n    alwaysShow: true, // 始终显示根菜单\r\n    meta: { title: '系统管理', icon: 'Setting', roles: ['admin'] },\r\n    children: [\r\n      {\r\n        path: 'user',\r\n        name: 'User',\r\n        component: () => import('@/views/user/index.vue'),\r\n        meta: { title: '用户管理', icon: 'User', roles: ['admin'] }\r\n      },\r\n      {\r\n        path: 'role',\r\n        name: 'Role',\r\n        component: () => import('@/views/role/index.vue'),\r\n        meta: { title: '角色管理', icon: 'UserFilled', roles: ['admin'] }\r\n      },\r\n      {\r\n        path: 'permission',\r\n        name: 'Permission',\r\n        component: () => import('@/views/permission/index.vue'),\r\n        meta: { title: '权限管理', icon: 'Lock', roles: ['admin'] }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/asset',\r\n    component: Layout,\r\n    redirect: '/asset/list',\r\n    alwaysShow: true,\r\n    meta: { title: '资产管理', icon: 'Files' },\r\n    children: [\r\n      {\r\n        path: 'list',\r\n        name: 'AssetList',\r\n        component: () => import('@/views/assets/AssetList.vue'),\r\n        meta: { title: '资产列表', icon: 'Document' }\r\n      }\r\n    ]\r\n  },\r\n  // 404 页面必须放在最后\r\n  { path: '/:pathMatch(.*)*', redirect: '/404', hidden: true }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes: constantRoutes\r\n})\r\n\r\nexport function resetRouter() {\r\n  const newRouter = createRouter({\r\n    history: createWebHistory(),\r\n    routes: constantRoutes\r\n  })\r\n  \r\n  // 清除所有已添加的路由\r\n  router.getRoutes().forEach(route => {\r\n    const name = route.name\r\n    if (name && router.hasRoute(name)) {\r\n      router.removeRoute(name)\r\n    }\r\n  })\r\n  \r\n  // 重新添加基础路由\r\n  constantRoutes.forEach(route => {\r\n    if (!router.hasRoute(route.name)) {\r\n      router.addRoute(route)\r\n    }\r\n  })\r\n}\r\n\r\nexport default router "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}