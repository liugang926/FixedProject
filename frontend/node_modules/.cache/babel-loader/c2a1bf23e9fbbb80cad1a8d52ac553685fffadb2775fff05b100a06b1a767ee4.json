{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"navbar\"\n};\nvar _hoisted_2 = {\n  \"class\": \"right-menu\"\n};\nvar _hoisted_3 = {\n  \"class\": \"avatar-wrapper\"\n};\nvar _hoisted_4 = {\n  \"class\": \"user-name\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_avatar = _resolveComponent(\"el-avatar\");\n  var _component_CaretBottom = _resolveComponent(\"CaretBottom\");\n  var _component_el_icon = _resolveComponent(\"el-icon\");\n  var _component_User = _resolveComponent(\"User\");\n  var _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  var _component_router_link = _resolveComponent(\"router-link\");\n  var _component_SwitchButton = _resolveComponent(\"SwitchButton\");\n  var _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  var _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_dropdown, {\n    \"class\": \"avatar-container\",\n    trigger: \"click\"\n  }, {\n    dropdown: _withCtx(function () {\n      return [_createVNode(_component_el_dropdown_menu, {\n        \"class\": \"user-dropdown\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_router_link, {\n            to: \"/profile\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_dropdown_item, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_el_icon, null, {\n                    \"default\": _withCtx(function () {\n                      return [_createVNode(_component_User)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _cache[0] || (_cache[0] = _createTextVNode(\" 个人中心 \"))];\n                }),\n                _: 1 /* STABLE */\n              })];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_dropdown_item, {\n            divided: \"\",\n            onClick: $setup.handleLogout\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_icon, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_SwitchButton)];\n                }),\n                _: 1 /* STABLE */\n              }), _cache[1] || (_cache[1] = _createTextVNode(\" 退出登录 \"))];\n            }),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"])];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_avatar, {\n        size: 32,\n        src: $setup.avatar,\n        \"class\": \"user-avatar\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createTextVNode(_toDisplayString($setup.userInitials), 1 /* TEXT */)];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"src\"]), _createElementVNode(\"span\", _hoisted_4, _toDisplayString($setup.name), 1 /* TEXT */), _createVNode(_component_el_icon, {\n        \"class\": \"el-icon-caret-bottom\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_CaretBottom)];\n        }),\n        _: 1 /* STABLE */\n      })])];\n    }),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_dropdown","trigger","dropdown","_withCtx","_component_el_dropdown_menu","_component_router_link","to","_component_el_dropdown_item","_component_el_icon","_component_User","_","_createTextVNode","divided","onClick","$setup","handleLogout","_component_SwitchButton","_hoisted_3","_component_el_avatar","size","src","avatar","_toDisplayString","userInitials","_hoisted_4","name","_component_CaretBottom"],"sources":["C:\\Users\\ND\\Desktop\\Fixed_Project\\frontend\\src\\layout\\components\\Navbar.vue"],"sourcesContent":["<template>\r\n  <div class=\"navbar\">\r\n    <div class=\"right-menu\">\r\n      <el-dropdown class=\"avatar-container\" trigger=\"click\">\r\n        <div class=\"avatar-wrapper\">\r\n          <el-avatar \r\n            :size=\"32\" \r\n            :src=\"avatar\" \r\n            class=\"user-avatar\"\r\n          >\r\n            {{ userInitials }}\r\n          </el-avatar>\r\n          <span class=\"user-name\">{{ name }}</span>\r\n          <el-icon class=\"el-icon-caret-bottom\"><CaretBottom /></el-icon>\r\n        </div>\r\n        <template #dropdown>\r\n          <el-dropdown-menu class=\"user-dropdown\">\r\n            <router-link to=\"/profile\">\r\n              <el-dropdown-item>\r\n                <el-icon><User /></el-icon>\r\n                个人中心\r\n              </el-dropdown-item>\r\n            </router-link>\r\n            <el-dropdown-item divided @click=\"handleLogout\">\r\n              <el-icon><SwitchButton /></el-icon>\r\n              退出登录\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </template>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessageBox } from 'element-plus'\r\nimport { CaretBottom, User, SwitchButton } from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n  name: 'Navbar',\r\n  components: {\r\n    CaretBottom,\r\n    User,\r\n    SwitchButton\r\n  },\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n\r\n    const name = computed(() => store.state.user.name)\r\n    const avatar = computed(() => store.state.user.avatar)\r\n    const userInitials = computed(() => {\r\n      const userName = store.state.user.name || ''\r\n      return userName.charAt(0).toUpperCase()\r\n    })\r\n\r\n    const handleLogout = () => {\r\n      ElMessageBox.confirm('确定要退出登录吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        await store.dispatch('user/logout')\r\n        router.push('/login')\r\n      })\r\n    }\r\n\r\n    return {\r\n      name,\r\n      avatar,\r\n      userInitials,\r\n      handleLogout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.navbar {\r\n  height: 50px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  background: #fff;\r\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\r\n  padding: 0 16px;\r\n\r\n  .right-menu {\r\n    float: right;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .avatar-container {\r\n      cursor: pointer;\r\n      \r\n      .avatar-wrapper {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 5px 8px;\r\n        border-radius: 4px;\r\n        transition: background 0.3s;\r\n\r\n        &:hover {\r\n          background: rgba(0, 0, 0, 0.025);\r\n        }\r\n\r\n        .user-avatar {\r\n          margin-right: 8px;\r\n          background: #409EFF;\r\n          color: #fff;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .user-name {\r\n          font-size: 14px;\r\n          color: #606266;\r\n          margin-right: 8px;\r\n        }\r\n\r\n        .el-icon-caret-bottom {\r\n          font-size: 12px;\r\n          color: #909399;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n:deep(.user-dropdown) {\r\n  .el-dropdown-menu__item {\r\n    padding: 8px 16px;\r\n    display: flex;\r\n    align-items: center;\r\n    line-height: 1;\r\n\r\n    .el-icon {\r\n      margin-right: 8px;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n\r\n  a {\r\n    text-decoration: none;\r\n    color: inherit;\r\n  }\r\n}\r\n\r\n.el-dropdown-menu__item.is-divided {\r\n  border-top: 1px solid #ebeef5;\r\n  margin: 6px 0;\r\n  padding-top: 12px;\r\n}\r\n</style> "],"mappings":";;;EACO,SAAM;AAAQ;;EACZ,SAAM;AAAY;;EAEd,SAAM;AAAgB;;EAQnB,SAAM;AAAW;;;;;;;;;;;uBAX/BA,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BJC,mBAAA,CA4BM,OA5BNC,UA4BM,GA3BJC,YAAA,CA0BcC,sBAAA;IA1BD,SAAM,kBAAkB;IAACC,OAAO,EAAC;;IAYjCC,QAAQ,EAAAC,QAAA,CACjB;MAAA,OAWmB,CAXnBJ,YAAA,CAWmBK,2BAAA;QAXD,SAAM;MAAe;QAhBjD,WAAAD,QAAA,CAiBY;UAAA,OAKc,CALdJ,YAAA,CAKcM,sBAAA;YALDC,EAAE,EAAC;UAAU;YAjBtC,WAAAH,QAAA,CAkBc;cAAA,OAGmB,CAHnBJ,YAAA,CAGmBQ,2BAAA;gBArBjC,WAAAJ,QAAA,CAmBgB;kBAAA,OAA2B,CAA3BJ,YAAA,CAA2BS,kBAAA;oBAnB3C,WAAAL,QAAA,CAmByB;sBAAA,OAAQ,CAARJ,YAAA,CAAQU,eAAA,E;;oBAnBjCC,CAAA;gDAAAC,gBAAA,CAmB2C,QAE7B,G;;gBArBdD,CAAA;;;YAAAA,CAAA;cAuBYX,YAAA,CAGmBQ,2BAAA;YAHDK,OAAO,EAAP,EAAO;YAAEC,OAAK,EAAEC,MAAA,CAAAC;;YAvB9C,WAAAZ,QAAA,CAwBc;cAAA,OAAmC,CAAnCJ,YAAA,CAAmCS,kBAAA;gBAxBjD,WAAAL,QAAA,CAwBuB;kBAAA,OAAgB,CAAhBJ,YAAA,CAAgBiB,uBAAA,E;;gBAxBvCN,CAAA;4CAAAC,gBAAA,CAwBiD,QAErC,G;;YA1BZD,CAAA;;;QAAAA,CAAA;;;IAAA,WAAAP,QAAA,CAIQ;MAAA,OAUM,CAVNN,mBAAA,CAUM,OAVNoB,UAUM,GATJlB,YAAA,CAMYmB,oBAAA;QALTC,IAAI,EAAE,EAAE;QACRC,GAAG,EAAEN,MAAA,CAAAO,MAAM;QACZ,SAAM;;QARlB,WAAAlB,QAAA,CAUY;UAAA,OAAkB,CAV9BQ,gBAAA,CAAAW,gBAAA,CAUeR,MAAA,CAAAS,YAAY,iB;;QAV3Bb,CAAA;kCAYUb,mBAAA,CAAyC,QAAzC2B,UAAyC,EAAAF,gBAAA,CAAdR,MAAA,CAAAW,IAAI,kBAC/B1B,YAAA,CAA+DS,kBAAA;QAAtD,SAAM;MAAsB;QAb/C,WAAAL,QAAA,CAagD;UAAA,OAAe,CAAfJ,YAAA,CAAe2B,sBAAA,E;;QAb/DhB,CAAA;;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}