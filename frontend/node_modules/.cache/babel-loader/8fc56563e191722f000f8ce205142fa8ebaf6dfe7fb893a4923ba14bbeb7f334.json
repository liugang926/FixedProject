{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ND/Desktop/Fixed_Project/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/ND/Desktop/Fixed_Project/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { defineComponent, ref, onMounted } from 'vue';\nimport { getAssetStatistics } from '@/api/asset';\nimport { ElMessage } from 'element-plus';\nexport default defineComponent({\n  name: 'Dashboard',\n  setup: function setup() {\n    var statistics = ref({});\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _yield$getAssetStatis, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getAssetStatistics();\n            case 3:\n              _yield$getAssetStatis = _context.sent;\n              data = _yield$getAssetStatis.data;\n              statistics.value = data || {\n                total: 0,\n                inUse: 0,\n                idle: 0,\n                maintenance: 0,\n                scrapped: 0\n              };\n              _context.next = 12;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('获取统计数据失败:', _context.t0);\n              ElMessage.error('获取统计数据失败');\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    onMounted(fetchData);\n    return {\n      statistics: statistics\n    };\n  }\n});","map":{"version":3,"names":["defineComponent","ref","onMounted","getAssetStatistics","ElMessage","name","setup","statistics","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$getAssetStatis","data","wrap","_callee$","_context","prev","next","sent","value","total","inUse","idle","maintenance","scrapped","t0","console","error","stop","apply","arguments"],"sources":["C:\\Users\\ND\\Desktop\\Fixed_Project\\frontend\\src\\views\\dashboard\\Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"8\">\r\n        <el-card>\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <span>资产总数</span>\r\n            </div>\r\n          </template>\r\n          <div class=\"card-body\">\r\n            <h2>{{ statistics.total || 0 }}</h2>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card>\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <span>使用中</span>\r\n            </div>\r\n          </template>\r\n          <div class=\"card-body\">\r\n            <h2>{{ statistics.inUse || 0 }}</h2>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"8\">\r\n        <el-card>\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <span>闲置</span>\r\n            </div>\r\n          </template>\r\n          <div class=\"card-body\">\r\n            <h2>{{ statistics.idle || 0 }}</h2>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, onMounted } from 'vue'\r\nimport { getAssetStatistics } from '@/api/asset'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default defineComponent({\r\n  name: 'Dashboard',\r\n  setup() {\r\n    const statistics = ref({})\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data } = await getAssetStatistics()\r\n        statistics.value = data || {\r\n          total: 0,\r\n          inUse: 0,\r\n          idle: 0,\r\n          maintenance: 0,\r\n          scrapped: 0\r\n        }\r\n      } catch (error) {\r\n        console.error('获取统计数据失败:', error)\r\n        ElMessage.error('获取统计数据失败')\r\n      }\r\n    }\r\n\r\n    onMounted(fetchData)\r\n\r\n    return {\r\n      statistics\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dashboard-container {\r\n  min-height: calc(100vh - 120px);\r\n  background-color: transparent;\r\n  \r\n  .el-card {\r\n    margin-bottom: 20px;\r\n    box-shadow: 0 1px 4px rgba(0,21,41,.08);\r\n    \r\n    .card-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n    \r\n    .card-body {\r\n      text-align: center;\r\n      \r\n      h2 {\r\n        margin: 10px 0;\r\n        font-size: 24px;\r\n        color: #409EFF;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style> "],"mappings":";;AA4CA,SAASA,eAAe,EAAEC,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACpD,SAASC,kBAAiB,QAAS,aAAY;AAC/C,SAASC,SAAQ,QAAS,cAAa;AAEvC,eAAeJ,eAAe,CAAC;EAC7BK,IAAI,EAAE,WAAW;EACjBC,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAMC,UAAS,GAAIN,GAAG,CAAC,CAAC,CAAC;IAEzB,IAAMO,SAAQ;MAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA;QAAA,IAAAC,qBAAA,EAAAC,IAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAESjB,kBAAkB,CAAC;YAAA;cAAAW,qBAAA,GAAAI,QAAA,CAAAG,IAAA;cAAlCN,IAAG,GAAAD,qBAAA,CAAHC,IAAG;cACXR,UAAU,CAACe,KAAI,GAAIP,IAAG,IAAK;gBACzBQ,KAAK,EAAE,CAAC;gBACRC,KAAK,EAAE,CAAC;gBACRC,IAAI,EAAE,CAAC;gBACPC,WAAW,EAAE,CAAC;gBACdC,QAAQ,EAAE;cACZ;cAAAT,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;cAEAW,OAAO,CAACC,KAAK,CAAC,WAAW,EAAAZ,QAAA,CAAAU,EAAO;cAChCxB,SAAS,CAAC0B,KAAK,CAAC,UAAU;YAAA;YAAA;cAAA,OAAAZ,QAAA,CAAAa,IAAA;UAAA;QAAA,GAAAlB,OAAA;MAAA,CAE9B;MAAA,gBAdML,SAAQA,CAAA;QAAA,OAAAC,IAAA,CAAAuB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAcd;IAEA/B,SAAS,CAACM,SAAS;IAEnB,OAAO;MACLD,UAAS,EAATA;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}